{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mathi\\\\Music\\\\DSY1104_Evaluacion_Parcial_2_LevelUp-main\\\\src\\\\components\\\\OpinionesProducto.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport '../styles/OpinionesProducto.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction OpinionesProducto({\n  productoId\n}) {\n  _s();\n  const [opiniones, setOpiniones] = useState([]);\n  const [comentario, setComentario] = useState('');\n  const [calificacion, setCalificacion] = useState(5);\n  useEffect(() => {\n    const todasLasOpiniones = JSON.parse(localStorage.getItem('opiniones')) || {};\n    setOpiniones(todasLasOpiniones[productoId] || []);\n  }, [productoId]);\n  const enviarOpinion = e => {\n    e.preventDefault();\n    const nuevaOpinion = {\n      comentario,\n      calificacion,\n      fecha: new Date().toLocaleDateString()\n    };\n    const todasLasOpiniones = JSON.parse(localStorage.getItem('opiniones')) || {};\n    const nuevasOpinionesProducto = [...(todasLasOpiniones[productoId] || []), nuevaOpinion];\n    todasLasOpiniones[productoId] = nuevasOpinionesProducto;\n    localStorage.setItem('opiniones', JSON.stringify(todasLasOpiniones));\n    setOpiniones(nuevasOpinionesProducto);\n    setComentario('');\n    setCalificacion(5);\n  };\n\n  // Calcula promedio de calificaciones\n  const promedio = opiniones.length ? (opiniones.reduce((acc, op) => acc + op.calificacion, 0) / opiniones.length).toFixed(1) : null;\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"opiniones-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"opiniones-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Opiniones & Valoraciones\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), promedio && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"opiniones-promedio\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"estrellas-promedio\",\n          children: ['★'.repeat(Math.round(promedio)), '☆'.repeat(5 - Math.round(promedio))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"valor-promedio\",\n          children: [promedio, \"/5\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"contador-opiniones\",\n          children: [\"(\", opiniones.length, \" opiniones)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: enviarOpinion,\n      className: \"form-opinion\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label-textarea\",\n        children: [\"Escribe tu opini\\xF3n:\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: comentario,\n          onChange: e => setComentario(e.target.value),\n          required: true,\n          placeholder: \"\\xBFQu\\xE9 te pareci\\xF3 este producto?\",\n          className: \"input-opinion\",\n          maxLength: 280\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label-select\",\n        children: [\"Califica este producto:\", /*#__PURE__*/_jsxDEV(\"select\", {\n          value: calificacion,\n          onChange: e => setCalificacion(Number(e.target.value)),\n          className: \"input-calificacion\",\n          children: [5, 4, 3, 2, 1].map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: n,\n            children: [n, \" estrellas\"]\n          }, n, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn-enviar-opinion\",\n        children: \"Enviar opini\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lista-opiniones\",\n      children: opiniones.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mensaje-sin-opiniones\",\n        children: \"No hay opiniones a\\xFAn.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this) : opiniones.map((op, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"opinion-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"opinion-cabecera\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"estrellas\",\n            children: '★'.repeat(op.calificacion) + '☆'.repeat(5 - op.calificacion)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"fecha-opinion\",\n            children: op.fecha\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"opinion-comentario\",\n          children: op.comentario\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(OpinionesProducto, \"m3V37+azsx7c3+vHgfqq5/v1v/4=\");\n_c = OpinionesProducto;\nexport default OpinionesProducto;\nvar _c;\n$RefreshReg$(_c, \"OpinionesProducto\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","OpinionesProducto","productoId","_s","opiniones","setOpiniones","comentario","setComentario","calificacion","setCalificacion","todasLasOpiniones","JSON","parse","localStorage","getItem","enviarOpinion","e","preventDefault","nuevaOpinion","fecha","Date","toLocaleDateString","nuevasOpinionesProducto","setItem","stringify","promedio","length","reduce","acc","op","toFixed","className","children","fileName","_jsxFileName","lineNumber","columnNumber","repeat","Math","round","onSubmit","value","onChange","target","required","placeholder","maxLength","Number","map","n","type","i","_c","$RefreshReg$"],"sources":["C:/Users/mathi/Music/DSY1104_Evaluacion_Parcial_2_LevelUp-main/src/components/OpinionesProducto.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../styles/OpinionesProducto.css';\n\nfunction OpinionesProducto({ productoId }) {\n  const [opiniones, setOpiniones] = useState([]);\n  const [comentario, setComentario] = useState('');\n  const [calificacion, setCalificacion] = useState(5);\n\n  useEffect(() => {\n    const todasLasOpiniones = JSON.parse(localStorage.getItem('opiniones')) || {};\n    setOpiniones(todasLasOpiniones[productoId] || []);\n  }, [productoId]);\n\n  const enviarOpinion = (e) => {\n    e.preventDefault();\n    const nuevaOpinion = {\n      comentario,\n      calificacion,\n      fecha: new Date().toLocaleDateString(),\n    };\n\n    const todasLasOpiniones = JSON.parse(localStorage.getItem('opiniones')) || {};\n    const nuevasOpinionesProducto = [...(todasLasOpiniones[productoId] || []), nuevaOpinion];\n    todasLasOpiniones[productoId] = nuevasOpinionesProducto;\n    localStorage.setItem('opiniones', JSON.stringify(todasLasOpiniones));\n    setOpiniones(nuevasOpinionesProducto);\n\n    setComentario('');\n    setCalificacion(5);\n  };\n\n  // Calcula promedio de calificaciones\n  const promedio = opiniones.length\n    ? (opiniones.reduce((acc, op) => acc + op.calificacion, 0) / opiniones.length).toFixed(1)\n    : null;\n\n  return (\n    <section className=\"opiniones-section\">\n      <div className=\"opiniones-header\">\n        <h3>Opiniones & Valoraciones</h3>\n        {promedio && (\n          <div className=\"opiniones-promedio\">\n            <span className=\"estrellas-promedio\">\n              {'★'.repeat(Math.round(promedio))}\n              {'☆'.repeat(5 - Math.round(promedio))}\n            </span>\n            <span className=\"valor-promedio\">{promedio}/5</span>\n            <span className=\"contador-opiniones\">({opiniones.length} opiniones)</span>\n          </div>\n        )}\n      </div>\n      <form onSubmit={enviarOpinion} className=\"form-opinion\">\n        <label className=\"label-textarea\">\n          Escribe tu opinión:\n          <textarea\n            value={comentario}\n            onChange={e => setComentario(e.target.value)}\n            required\n            placeholder=\"¿Qué te pareció este producto?\"\n            className=\"input-opinion\"\n            maxLength={280}\n          />\n        </label>\n        <label className=\"label-select\">\n          Califica este producto:\n          <select\n            value={calificacion}\n            onChange={e => setCalificacion(Number(e.target.value))}\n            className=\"input-calificacion\"\n          >\n            {[5, 4, 3, 2, 1].map(n => (\n              <option key={n} value={n}>{n} estrellas</option>\n            ))}\n          </select>\n        </label>\n        <button type=\"submit\" className=\"btn-enviar-opinion\">\n          Enviar opinión\n        </button>\n      </form>\n      <div className=\"lista-opiniones\">\n        {opiniones.length === 0 ? (\n          <p className=\"mensaje-sin-opiniones\">No hay opiniones aún.</p>\n        ) : (\n          opiniones.map((op, i) => (\n            <div key={i} className=\"opinion-item\">\n              <div className=\"opinion-cabecera\">\n                <span className=\"estrellas\">\n                  {'★'.repeat(op.calificacion) + '☆'.repeat(5 - op.calificacion)}\n                </span>\n                <span className=\"fecha-opinion\">{op.fecha}</span>\n              </div>\n              <span className=\"opinion-comentario\">{op.comentario}</span>\n            </div>\n          ))\n        )}\n      </div>\n    </section>\n  );\n}\n\nexport default OpinionesProducto;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}