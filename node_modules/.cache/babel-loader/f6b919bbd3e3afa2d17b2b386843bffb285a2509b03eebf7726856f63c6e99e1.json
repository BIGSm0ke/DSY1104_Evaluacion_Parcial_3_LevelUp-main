{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mathi\\\\OneDrive\\\\Documentos\\\\GitHub\\\\DSY1104_Evaluacion_Parcial_3_LevelUp-main\\\\src\\\\context\\\\CarritoContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/contexto/CarritoContext.jsx\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { carritoService } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CarritoContext = /*#__PURE__*/createContext();\nconst carritoInicial = {\n  items: [],\n  total: 0,\n  cantidad: 0,\n  carritoId: null\n};\n\n// Reducer para manejar las acciones del carrito\nconst carritoReducer = (state, action) => {\n  switch (action.type) {\n    case 'CARGAR_CARRITO':\n      // Cargar carrito desde el backend\n      return {\n        items: action.items || [],\n        total: action.total || 0,\n        cantidad: action.cantidad || 0,\n        carritoId: action.carritoId\n      };\n    case 'AGREGAR_PRODUCTO':\n      const productoExistente = state.items.find(item => item.productoId === action.producto.id);\n      let nuevosItems;\n      if (productoExistente) {\n        nuevosItems = state.items.map(item => item.productoId === action.producto.id ? {\n          ...item,\n          cantidad: item.cantidad + 1\n        } : item);\n      } else {\n        nuevosItems = [...state.items, {\n          ...action.producto,\n          productoId: action.producto.id,\n          cantidad: 1\n        }];\n      }\n      const nuevaCantidad = nuevosItems.reduce((acc, item) => acc + item.cantidad, 0);\n      const nuevoTotal = nuevosItems.reduce((acc, item) => acc + item.precio * item.cantidad, 0);\n      return {\n        ...state,\n        items: nuevosItems,\n        cantidad: nuevaCantidad,\n        total: nuevoTotal\n      };\n    case 'ELIMINAR_PRODUCTO':\n      const item = state.items.find(item => item.id === action.id || item.productoId === action.id);\n      if (!item) return state;\n      const nuevosItemsSinItem = state.items.filter(i => i.id !== action.id && i.productoId !== action.id);\n      const nuevaCantidadSinItem = state.cantidad - (item.cantidad || 0);\n      const nuevoTotalSinItem = state.total - (item.precio || 0) * (item.cantidad || 0);\n      return {\n        ...state,\n        items: nuevosItemsSinItem,\n        cantidad: nuevaCantidadSinItem,\n        total: nuevoTotalSinItem\n      };\n    case 'VACIAR_CARRITO':\n      return {\n        items: [],\n        total: 0,\n        cantidad: 0,\n        carritoId: state.carritoId\n      };\n    case 'ACTUALIZAR_CANTIDAD':\n      const itemsActualizados = state.items.map(item => item.id === action.id || item.productoId === action.id ? {\n        ...item,\n        cantidad: action.cantidad\n      } : item);\n      const nuevaCantidadTotal = itemsActualizados.reduce((acc, item) => acc + item.cantidad, 0);\n      const nuevoTotalGeneral = itemsActualizados.reduce((acc, item) => acc + item.precio * item.cantidad, 0);\n      return {\n        ...state,\n        items: itemsActualizados,\n        cantidad: nuevaCantidadTotal,\n        total: nuevoTotalGeneral\n      };\n    case 'CARGAR_DEL_STORAGE':\n      return action.carrito;\n    default:\n      return state;\n  }\n};\nexport const CarritoProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(carritoReducer, carritoInicial);\n\n  // Cargar carrito desde backend al iniciar (si hay token)\n  useEffect(() => {\n    const cargarCarritoDesdeBackend = async () => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        try {\n          var _carrito$items;\n          const carrito = await carritoService.obtener();\n          const items = ((_carrito$items = carrito.items) === null || _carrito$items === void 0 ? void 0 : _carrito$items.map(item => ({\n            id: item.id,\n            productoId: item.productoId,\n            nombre: item.nombreProducto,\n            precio: item.precioUnitario,\n            cantidad: item.cantidad,\n            imagenUrl: item.imagenUrl\n          }))) || [];\n          const cantidad = items.reduce((acc, item) => acc + item.cantidad, 0);\n          const total = items.reduce((acc, item) => acc + item.precio * item.cantidad, 0);\n          dispatch({\n            type: 'CARGAR_CARRITO',\n            items,\n            cantidad,\n            total,\n            carritoId: carrito.id\n          });\n        } catch (error) {\n          console.error('Error al cargar carrito:', error);\n          // Si falla, cargar del localStorage como fallback\n          const carritoGuardado = localStorage.getItem('carrito');\n          if (carritoGuardado) {\n            dispatch({\n              type: 'CARGAR_DEL_STORAGE',\n              carrito: JSON.parse(carritoGuardado)\n            });\n          }\n        }\n      } else {\n        // Sin token, usar localStorage\n        const carritoGuardado = localStorage.getItem('carrito');\n        if (carritoGuardado) {\n          dispatch({\n            type: 'CARGAR_DEL_STORAGE',\n            carrito: JSON.parse(carritoGuardado)\n          });\n        }\n      }\n    };\n    cargarCarritoDesdeBackend();\n  }, []);\n\n  // Guardar carrito en localStorage cada vez que cambie\n  useEffect(() => {\n    localStorage.setItem('carrito', JSON.stringify(state));\n  }, [state]);\n\n  // Funciones auxiliares para sincronizar con backend\n  const agregarProducto = async producto => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        var _carrito$items2;\n        await carritoService.agregarItem(producto.id, 1);\n        // Recargar carrito del backend\n        const carrito = await carritoService.obtener();\n        const items = ((_carrito$items2 = carrito.items) === null || _carrito$items2 === void 0 ? void 0 : _carrito$items2.map(item => ({\n          id: item.id,\n          productoId: item.productoId,\n          nombre: item.nombreProducto,\n          precio: item.precioUnitario,\n          cantidad: item.cantidad,\n          imagenUrl: item.imagenUrl\n        }))) || [];\n        const cantidad = items.reduce((acc, item) => acc + item.cantidad, 0);\n        const total = items.reduce((acc, item) => acc + item.precio * item.cantidad, 0);\n        dispatch({\n          type: 'CARGAR_CARRITO',\n          items,\n          cantidad,\n          total,\n          carritoId: carrito.id\n        });\n      } catch (error) {\n        console.error('Error al agregar al carrito:', error);\n        dispatch({\n          type: 'AGREGAR_PRODUCTO',\n          producto\n        });\n      }\n    } else {\n      dispatch({\n        type: 'AGREGAR_PRODUCTO',\n        producto\n      });\n    }\n  };\n  const eliminarProducto = async itemId => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        var _carrito$items3;\n        await carritoService.eliminarItem(itemId);\n        const carrito = await carritoService.obtener();\n        const items = ((_carrito$items3 = carrito.items) === null || _carrito$items3 === void 0 ? void 0 : _carrito$items3.map(item => ({\n          id: item.id,\n          productoId: item.productoId,\n          nombre: item.nombreProducto,\n          precio: item.precioUnitario,\n          cantidad: item.cantidad,\n          imagenUrl: item.imagenUrl\n        }))) || [];\n        const cantidad = items.reduce((acc, item) => acc + item.cantidad, 0);\n        const total = items.reduce((acc, item) => acc + item.precio * item.cantidad, 0);\n        dispatch({\n          type: 'CARGAR_CARRITO',\n          items,\n          cantidad,\n          total,\n          carritoId: carrito.id\n        });\n      } catch (error) {\n        console.error('Error al eliminar del carrito:', error);\n        dispatch({\n          type: 'ELIMINAR_PRODUCTO',\n          id: itemId\n        });\n      }\n    } else {\n      dispatch({\n        type: 'ELIMINAR_PRODUCTO',\n        id: itemId\n      });\n    }\n  };\n  const actualizarCantidad = async (itemId, cantidad) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        var _carrito$items4;\n        await carritoService.actualizarCantidad(itemId, cantidad);\n        const carrito = await carritoService.obtener();\n        const items = ((_carrito$items4 = carrito.items) === null || _carrito$items4 === void 0 ? void 0 : _carrito$items4.map(item => ({\n          id: item.id,\n          productoId: item.productoId,\n          nombre: item.nombreProducto,\n          precio: item.precioUnitario,\n          cantidad: item.cantidad,\n          imagenUrl: item.imagenUrl\n        }))) || [];\n        const cantidadTotal = items.reduce((acc, item) => acc + item.cantidad, 0);\n        const total = items.reduce((acc, item) => acc + item.precio * item.cantidad, 0);\n        dispatch({\n          type: 'CARGAR_CARRITO',\n          items,\n          cantidad: cantidadTotal,\n          total,\n          carritoId: carrito.id\n        });\n      } catch (error) {\n        console.error('Error al actualizar cantidad:', error);\n        dispatch({\n          type: 'ACTUALIZAR_CANTIDAD',\n          id: itemId,\n          cantidad\n        });\n      }\n    } else {\n      dispatch({\n        type: 'ACTUALIZAR_CANTIDAD',\n        id: itemId,\n        cantidad\n      });\n    }\n  };\n  const vaciarCarrito = async () => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        await carritoService.vaciar();\n        dispatch({\n          type: 'VACIAR_CARRITO'\n        });\n      } catch (error) {\n        console.error('Error al vaciar carrito:', error);\n        dispatch({\n          type: 'VACIAR_CARRITO'\n        });\n      }\n    } else {\n      dispatch({\n        type: 'VACIAR_CARRITO'\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(CarritoContext.Provider, {\n    value: {\n      state,\n      dispatch,\n      agregarProducto,\n      eliminarProducto,\n      actualizarCantidad,\n      vaciarCarrito\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n};\n_s(CarritoProvider, \"bui1cwNaZvEPf+U2r61qgS5aEC4=\");\n_c = CarritoProvider;\nexport const useCarrito = () => {\n  _s2();\n  const context = useContext(CarritoContext);\n  if (!context) {\n    throw new Error('useCarrito debe usarse dentro de CarritoProvider');\n  }\n  return context;\n};\n_s2(useCarrito, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport { carritoReducer };\nvar _c;\n$RefreshReg$(_c, \"CarritoProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","carritoService","jsxDEV","_jsxDEV","CarritoContext","carritoInicial","items","total","cantidad","carritoId","carritoReducer","state","action","type","productoExistente","find","item","productoId","producto","id","nuevosItems","map","nuevaCantidad","reduce","acc","nuevoTotal","precio","nuevosItemsSinItem","filter","i","nuevaCantidadSinItem","nuevoTotalSinItem","itemsActualizados","nuevaCantidadTotal","nuevoTotalGeneral","carrito","CarritoProvider","children","_s","dispatch","cargarCarritoDesdeBackend","token","localStorage","getItem","_carrito$items","obtener","nombre","nombreProducto","precioUnitario","imagenUrl","error","console","carritoGuardado","JSON","parse","setItem","stringify","agregarProducto","_carrito$items2","agregarItem","eliminarProducto","itemId","_carrito$items3","eliminarItem","actualizarCantidad","_carrito$items4","cantidadTotal","vaciarCarrito","vaciar","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useCarrito","_s2","context","Error","$RefreshReg$"],"sources":["C:/Users/mathi/OneDrive/Documentos/GitHub/DSY1104_Evaluacion_Parcial_3_LevelUp-main/src/context/CarritoContext.jsx"],"sourcesContent":["// src/contexto/CarritoContext.jsx\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { carritoService } from '../services/api';\n\nconst CarritoContext = createContext();\n\nconst carritoInicial = {\n  items: [],\n  total: 0,\n  cantidad: 0,\n  carritoId: null\n};\n\n// Reducer para manejar las acciones del carrito\nconst carritoReducer = (state, action) => {\n  switch (action.type) {\n    case 'CARGAR_CARRITO':\n      // Cargar carrito desde el backend\n      return {\n        items: action.items || [],\n        total: action.total || 0,\n        cantidad: action.cantidad || 0,\n        carritoId: action.carritoId\n      };\n\n    case 'AGREGAR_PRODUCTO':\n      const productoExistente = state.items.find(item => item.productoId === action.producto.id);\n      let nuevosItems;\n\n      if (productoExistente) {\n        nuevosItems = state.items.map(item =>\n          item.productoId === action.producto.id\n            ? { ...item, cantidad: item.cantidad + 1 }\n            : item\n        );\n      } else {\n        nuevosItems = [...state.items, { ...action.producto, productoId: action.producto.id, cantidad: 1 }];\n      }\n\n      const nuevaCantidad = nuevosItems.reduce((acc, item) => acc + item.cantidad, 0);\n      const nuevoTotal = nuevosItems.reduce((acc, item) => acc + (item.precio * item.cantidad), 0);\n\n      return { ...state, items: nuevosItems, cantidad: nuevaCantidad, total: nuevoTotal };\n\n    case 'ELIMINAR_PRODUCTO':\n      const item = state.items.find(item => item.id === action.id || item.productoId === action.id);\n      if (!item) return state;\n      const nuevosItemsSinItem = state.items.filter(i => i.id !== action.id && i.productoId !== action.id);\n      const nuevaCantidadSinItem = state.cantidad - (item.cantidad || 0);\n      const nuevoTotalSinItem = state.total - ((item.precio || 0) * (item.cantidad || 0));\n\n      return { ...state, items: nuevosItemsSinItem, cantidad: nuevaCantidadSinItem, total: nuevoTotalSinItem };\n\n    case 'VACIAR_CARRITO':\n      return { items: [], total: 0, cantidad: 0, carritoId: state.carritoId };\n\n    case 'ACTUALIZAR_CANTIDAD':\n      const itemsActualizados = state.items.map(item =>\n        (item.id === action.id || item.productoId === action.id)\n          ? { ...item, cantidad: action.cantidad }\n          : item\n      );\n      const nuevaCantidadTotal = itemsActualizados.reduce((acc, item) => acc + item.cantidad, 0);\n      const nuevoTotalGeneral = itemsActualizados.reduce((acc, item) => acc + (item.precio * item.cantidad), 0);\n\n      return { ...state, items: itemsActualizados, cantidad: nuevaCantidadTotal, total: nuevoTotalGeneral };\n\n    case 'CARGAR_DEL_STORAGE':\n      return action.carrito;\n\n    default:\n      return state;\n  }\n};\n\nexport const CarritoProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(carritoReducer, carritoInicial);\n\n  // Cargar carrito desde backend al iniciar (si hay token)\n  useEffect(() => {\n    const cargarCarritoDesdeBackend = async () => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        try {\n          const carrito = await carritoService.obtener();\n          const items = carrito.items?.map(item => ({\n            id: item.id,\n            productoId: item.productoId,\n            nombre: item.nombreProducto,\n            precio: item.precioUnitario,\n            cantidad: item.cantidad,\n            imagenUrl: item.imagenUrl\n          })) || [];\n\n          const cantidad = items.reduce((acc, item) => acc + item.cantidad, 0);\n          const total = items.reduce((acc, item) => acc + (item.precio * item.cantidad), 0);\n\n          dispatch({\n            type: 'CARGAR_CARRITO',\n            items,\n            cantidad,\n            total,\n            carritoId: carrito.id\n          });\n        } catch (error) {\n          console.error('Error al cargar carrito:', error);\n          // Si falla, cargar del localStorage como fallback\n          const carritoGuardado = localStorage.getItem('carrito');\n          if (carritoGuardado) {\n            dispatch({ type: 'CARGAR_DEL_STORAGE', carrito: JSON.parse(carritoGuardado) });\n          }\n        }\n      } else {\n        // Sin token, usar localStorage\n        const carritoGuardado = localStorage.getItem('carrito');\n        if (carritoGuardado) {\n          dispatch({ type: 'CARGAR_DEL_STORAGE', carrito: JSON.parse(carritoGuardado) });\n        }\n      }\n    };\n\n    cargarCarritoDesdeBackend();\n  }, []);\n\n  // Guardar carrito en localStorage cada vez que cambie\n  useEffect(() => {\n    localStorage.setItem('carrito', JSON.stringify(state));\n  }, [state]);\n\n  // Funciones auxiliares para sincronizar con backend\n  const agregarProducto = async (producto) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        await carritoService.agregarItem(producto.id, 1);\n        // Recargar carrito del backend\n        const carrito = await carritoService.obtener();\n        const items = carrito.items?.map(item => ({\n          id: item.id,\n          productoId: item.productoId,\n          nombre: item.nombreProducto,\n          precio: item.precioUnitario,\n          cantidad: item.cantidad,\n          imagenUrl: item.imagenUrl\n        })) || [];\n\n        const cantidad = items.reduce((acc, item) => acc + item.cantidad, 0);\n        const total = items.reduce((acc, item) => acc + (item.precio * item.cantidad), 0);\n\n        dispatch({ type: 'CARGAR_CARRITO', items, cantidad, total, carritoId: carrito.id });\n      } catch (error) {\n        console.error('Error al agregar al carrito:', error);\n        dispatch({ type: 'AGREGAR_PRODUCTO', producto });\n      }\n    } else {\n      dispatch({ type: 'AGREGAR_PRODUCTO', producto });\n    }\n  };\n\n  const eliminarProducto = async (itemId) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        await carritoService.eliminarItem(itemId);\n        const carrito = await carritoService.obtener();\n        const items = carrito.items?.map(item => ({\n          id: item.id,\n          productoId: item.productoId,\n          nombre: item.nombreProducto,\n          precio: item.precioUnitario,\n          cantidad: item.cantidad,\n          imagenUrl: item.imagenUrl\n        })) || [];\n\n        const cantidad = items.reduce((acc, item) => acc + item.cantidad, 0);\n        const total = items.reduce((acc, item) => acc + (item.precio * item.cantidad), 0);\n\n        dispatch({ type: 'CARGAR_CARRITO', items, cantidad, total, carritoId: carrito.id });\n      } catch (error) {\n        console.error('Error al eliminar del carrito:', error);\n        dispatch({ type: 'ELIMINAR_PRODUCTO', id: itemId });\n      }\n    } else {\n      dispatch({ type: 'ELIMINAR_PRODUCTO', id: itemId });\n    }\n  };\n\n  const actualizarCantidad = async (itemId, cantidad) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        await carritoService.actualizarCantidad(itemId, cantidad);\n        const carrito = await carritoService.obtener();\n        const items = carrito.items?.map(item => ({\n          id: item.id,\n          productoId: item.productoId,\n          nombre: item.nombreProducto,\n          precio: item.precioUnitario,\n          cantidad: item.cantidad,\n          imagenUrl: item.imagenUrl\n        })) || [];\n\n        const cantidadTotal = items.reduce((acc, item) => acc + item.cantidad, 0);\n        const total = items.reduce((acc, item) => acc + (item.precio * item.cantidad), 0);\n\n        dispatch({ type: 'CARGAR_CARRITO', items, cantidad: cantidadTotal, total, carritoId: carrito.id });\n      } catch (error) {\n        console.error('Error al actualizar cantidad:', error);\n        dispatch({ type: 'ACTUALIZAR_CANTIDAD', id: itemId, cantidad });\n      }\n    } else {\n      dispatch({ type: 'ACTUALIZAR_CANTIDAD', id: itemId, cantidad });\n    }\n  };\n\n  const vaciarCarrito = async () => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        await carritoService.vaciar();\n        dispatch({ type: 'VACIAR_CARRITO' });\n      } catch (error) {\n        console.error('Error al vaciar carrito:', error);\n        dispatch({ type: 'VACIAR_CARRITO' });\n      }\n    } else {\n      dispatch({ type: 'VACIAR_CARRITO' });\n    }\n  };\n\n  return (\n    <CarritoContext.Provider value={{\n      state,\n      dispatch,\n      agregarProducto,\n      eliminarProducto,\n      actualizarCantidad,\n      vaciarCarrito\n    }}>\n      {children}\n    </CarritoContext.Provider>\n  );\n};\n\nexport const useCarrito = () => {\n  const context = useContext(CarritoContext);\n  if (!context) {\n    throw new Error('useCarrito debe usarse dentro de CarritoProvider');\n  }\n  return context;\n};\n\nexport { carritoReducer };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}